# AGENTS Guide

## 프로젝트 개요
- React + Vite 기반의 투자 시뮬레이터로, 본인 vs 비교 대상의 자산 성장, 결혼 계획, 은퇴 전략을 한국어 UI로 보여줍니다.
- 금액 단위는 입력값 기준으로 `만원`(10,000 KRW)을 사용하며, 화면과 복사 텍스트에서는 주로 `억원` 단위를 표시합니다.

## 기술 스택
- React 19, Tailwind CSS v4(`@import "tailwindcss"`만 사용, 별도 config 없음), Recharts로 차트 렌더링.
- npm 스크립트: `npm run dev`, `npm run build`, `npm run preview`, `npm run lint`.

## 주요 파일
- `src/InvestmentCalculator.jsx`: 페이지 전체 상태, 프리셋 적용, 결혼/은퇴 옵션, 차트/카드/인사이트 렌더링, 클립보드 복사 로직.
- `src/utils/calculations.js`: 복리·대출·은퇴 인출 계산의 단일 진입점. 연 수익률을 월 단위로 나눠 복리 계산하고, 결혼/대출/은퇴/인플레이션 조건을 모두 처리합니다.
- `src/constants/defaults.js`: 기본 값 및 프리셋(일반인, 대기업, 적금러, VOO 투자자), 결혼/은퇴 계획 기본 설정.
- `src/components/*`: 입력 카드, 프리셋 버튼, 결혼/은퇴 섹션, 통계 카드, 차트(`WealthChart`), 인사이트 섹션 등 UI 조각.

## 계산/도메인 규칙
- `calculateWealthWithMarriage`는 월 단위로 복리 적용 → 투자금 추가/대출 상환 반영 → 결혼 여부/배우자 은퇴/주택 가치 상승 → 은퇴 후 인출(JEPQ/VOO 혼합) 순으로 처리합니다.
- `calculateWealth`는 독신 시나리오용 기본 복리 계산이며 은퇴 후 인출까지 포함합니다.
- 수익률/인플레이션/성장률 입력은 모두 `%` 단위이며, 연 단위를 월 단위로 나누어 사용합니다. 금액 증감 시 `Math.max(0, …)`로 음수 방지하는 패턴을 유지하세요.
- 차트/요약에서 자산 값은 `chartData` 생성 시 `÷ 10000`으로 억 단위로 변환한 것을 사용합니다.

## 작업 팁
- UI 텍스트는 한국어로 유지하고, 금액 표시는 한국 숫자 포맷(`toLocaleString()`)을 일관되게 사용합니다.
- 새 로직 추가 시 `calculations.js`의 월 단위 루프와 단위(만원↔억원) 변환 규칙을 깨지 않도록 주의합니다.
- 자동 테스트는 없습니다. 변경 후 `npm run lint`와 간단한 수동 시나리오(투자 기간 슬라이더, 결혼/대출 옵션, 은퇴 옵션, 결과 복사)를 확인하세요.

## 최근 추가/주의 사항
- 제품명: "주효 인생 시뮬레이터".
- 투자 입력: 세후 월급/월 생활비를 입력하면 월 투자액이 자동 계산됩니다(본인, 비교 대상, 배우자 모두 동일).
- 투자액 변경 스케줄: 본인/비교 대상/배우자 각각 여러 건의 “몇 년 후부터 투자액 변경”을 추가할 수 있으며, 해당 연도부터 월 투자액을 덮어씁니다.
- 이자 방식 토글: 프리셋 영역에서 단리/복리를 전환하는 버튼이 있으며 계산에 반영됩니다.
- 차트: y축 로그 스케일 토글 가능, 대공황 구간 음영, 주택 가치(집) 라인/면적 추가, 대출 완료/이벤트 라벨이 소수 연도도 표시되도록 숫자 축 사용.
- 대출: 중도상환 옵션 지원(결혼 후 N년차에 잔액 일시 상환), 복사 텍스트와 차트 이벤트에 반영.
- 복사본: 대공황 세부(시작/지속/하락률), 집 가치/대출 잔액, 세후 월급/생활비가 포함됩니다.
